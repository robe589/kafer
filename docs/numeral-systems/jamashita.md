# jamashita

## Repository

<https://github.com/jamashita/griglia/tree/main/problems/numeral-systems>

## どのぐらいこの問題に時間をかけましたか

`120` 分**以上** 👶

## やったことの一覧

1. [x] `number`を保持する
1. [ ] 上記区切り文字を含む`string`を受けてインスタンスを生成できる
    * [ ] 負の値`-`や桁区切り文字、小数点を考慮してインスタンスを生成できる
1. [x] 国や地域に基づいた桁区切り文字を選択できる
    * [x] 米国方式 (区切り文字: `,` 小数点: `.`) = 日本と同じ
        * 3桁ごとに区切る
    * [x] 欧州方式 (区切り文字: `.` 小数点: `,`) = 米国方式と逆
        * 3桁ごとに区切る
    * [x] インド方式 (区切り文字; `,` 小数点: `.`)
        * 1000までは3桁、それ以降は2桁以降で区切る
1. [ ] 他の方式に変換できる
    * インターフェイスの`NumeralSystem`にこのメソッドを追加して実装してください
1. [ ] 四則計算できる
1. [ ] 金額として表示できる
    * [ ] 先頭に金額の種類の記号が付与できる
        * `¥1,000`
        * `$10.00`
    * [ ] 金額が負の値になる時は、負の記号を先頭に表示し、金額の記号をその次に表示できる
        * `-¥1,000`
        * `-$10.00`
        * 以下は正しくないとする
            * `¥-1,000`
            * `$-10.00`

## どうやって問題へ取りかかろうとおもいましたか

制作者なので他の人とは異なりある程度あたりがついていたが、この類の問題は基本的に`Stragety pattern`あるいは`State Pattern`を意図しているのでそれで実装しようと思った。  
インスタンスはAbstract factoryで作成すれば足りると思ったので今回は`Strategy pattern`を採用した。

## やってみてうまくいったところはなんでしたか

* 値そのものを`number`で持つのではなく、分解して持つことにした。
    * 整数部 `IntegerPart.ts`
    * 小数部 `DecimalPart.ts`
    * 符号 `NumericalSign.ts`
    * 小数点 `DecimalPoint.ts`
    * 区切り文字 `DigitDelimiter.ts`

これにより米国方式、欧州方式はインスタンス切り替えで表現できるようになった。

## やってみてうまくいかなかったところはなんでしたか

* 桁区切りをやり間違えた。3桁区切りですら苦戦し、インド方式の2桁が入ってきてコードの汚さが膨れ上がってしまった。
* 時間的な問題でfactoryの制作に取り掛かれなかった

## (一緒にやった人がいた場合)他の人の回答をみてこうすればよかったという感想がありますか

区切りを`1000`で割ったあまりで判断することが一番賢いと思った。自分のは力技すぎてダメだと思った。  
もし桁区切りが`40`桁区切りずつだとしたら、自分の方式では実装することが(労力の関係で)できなくなる。
